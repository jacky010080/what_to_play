import{S as i}from"./sweetalert2.all-6438d5eb.js";import{_ as h,r as u,o as p,a as _,b as s,d as o,w as r,g as e,i as m}from"./index-c0430ba0.js";const{VITE_API:f}={VITE_API:"https://vue3-course-api.hexschool.io/",VITE_APIPATH:"whattoplay",BASE_URL:"/what_to_play/",MODE:"production",DEV:!1,PROD:!0},x={methods:{logout(){document.cookie=`hexToken=; expires=${new Date};`,this.$router.push("/login")},checkLogin(){const a=document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*([^;]*).*$)|^.*$/,"$1");this.$http.defaults.headers.common.Authorization=a,this.$http.post(`${f}api/user/check`).then(t=>{t.data.success?i.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:1500}).fire({icon:"success",title:"登入成功",text:t.data.message}):(i.fire({icon:"error",title:"登入失敗",text:t.data.message,confirmButtonText:"OK"}),this.$router.push("/login"))}).catch(t=>{i.fire({icon:"error",title:`錯誤 ${t.response.status}`,text:t.response.data.message,confirmButtonText:"OK"}),this.$router.push("/login")})}},mounted(){this.checkLogin()}},g={class:"container"},k={class:"row justify-content-center"},w={class:"col-10"},$=s("hr",null,null,-1);function V(a,t,T,b,B,c){const n=u("router-link"),l=u("RouterView");return p(),_("div",g,[s("div",k,[s("div",w,[o(n,{to:"/admin/products"},{default:r(()=>[e("後台產品列表")]),_:1}),e(" | "),o(n,{to:"/admin/orders"},{default:r(()=>[e("後台訂單列表")]),_:1}),e(" | "),o(n,{to:"/"},{default:r(()=>[e("回到前台")]),_:1}),e(" | "),s("button",{type:"button",class:"btn btn-warning btn-sm",onClick:t[0]||(t[0]=m((...d)=>c.logout&&c.logout(...d),["prevent"]))},"登出"),$,o(l)])])])}const A=h(x,[["render",V]]);export{A as default};
