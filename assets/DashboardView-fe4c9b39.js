import{S as n}from"./sweetalert2.all-23090308.js";import{_ as h,r as l,o as p,a as _,b as e,d as o,w as a,h as m,f as i}from"./index-c9dccfb6.js";const{VITE_API:f}={VITE_API:"https://vue3-course-api.hexschool.io/",VITE_APIPATH:"whattoplay",BASE_URL:"/what_to_play/",MODE:"production",DEV:!1,PROD:!0},v={methods:{logout(){document.cookie=`hexToken=; expires=${new Date};`,this.$router.push("/login")},checkLogin(){const c=document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*([^;]*).*$)|^.*$/,"$1");this.$http.defaults.headers.common.Authorization=c,this.$http.post(`${f}api/user/check`).then(t=>{t.data.success?n.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:1500}).fire({icon:"success",title:"登入成功",text:t.data.message}):(n.fire({icon:"error",title:"登入失敗",text:t.data.message,confirmButtonText:"OK"}),this.$router.push("/login"))}).catch(t=>{n.fire({icon:"error",title:`錯誤 ${t.response.status}`,text:t.response.data.message,confirmButtonText:"OK"}),this.$router.push("/login")})}},mounted(){this.checkLogin()}},k={class:"container"},x={class:"row justify-content-center"},g={class:"col-10"},w={class:"navbar navbar-expand-lg navbar-light"},$={class:"collapse navbar-collapse justify-content-center",id:"navbarNavAltMarkup"},b={class:"navbar-nav nav"},V=e("hr",null,null,-1);function T(c,t,A,B,E,r){const s=l("router-link"),u=l("RouterView");return p(),_("div",k,[e("div",x,[e("div",g,[e("nav",w,[e("div",$,[e("div",b,[o(s,{to:"/admin/products",class:"nav-item nav-link me-4"},{default:a(()=>[i("產品列表")]),_:1}),o(s,{to:"/admin/orders",class:"nav-item nav-link me-4"},{default:a(()=>[i("訂單列表")]),_:1}),o(s,{to:"/",class:"nav-item nav-link me-4"},{default:a(()=>[i("回到前台")]),_:1}),e("button",{type:"button",class:"btn btn-warning",onClick:t[0]||(t[0]=m((...d)=>r.logout&&r.logout(...d),["prevent"]))},"登出")])])]),V,o(u)])])])}const D=h(v,[["render",T]]);export{D as default};
