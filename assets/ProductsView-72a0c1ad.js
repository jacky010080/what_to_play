import{P as f}from"./PaginationView-9edc2b0d.js";import{_ as v,f as x,r as p,o as i,c as d,d as t,F as y,g as P,a as m,e as w,w as T,b as _,t as c}from"./index-2d8cb76f.js";import{S as r}from"./sweetalert2.all-85980b94.js";const{VITE_API:u,VITE_APIPATH:h}={VITE_API:"https://vue3-course-api.hexschool.io/",VITE_APIPATH:"jacky010080",BASE_URL:"/what_to_play/",MODE:"production",DEV:!1,PROD:!0},k={data(){return{products:[],page:{}}},components:{RouterLink:x,PaginationView:f},methods:{getProducts(a=1){this.$http.get(`${u}/v2/api/${h}/products/?page=${a}`).then(e=>{this.products=e.data.products,this.page=e.data.pagination}).catch(e=>{r.fire({icon:"error",title:`錯誤 ${e.response.status}`,text:e.response.data.message,confirmButtonText:"OK"})})},addToCart(a){const e={product_id:a,qty:1};this.$http.post(`${u}/v2/api/${h}/cart`,{data:e}).then(o=>{r.fire({icon:"success",title:o.data.message,confirmButtonText:"OK"})}).catch(o=>{r.fire({icon:"error",title:`錯誤 ${o.response.status}`,text:o.response.data.message,confirmButtonText:"OK"})})}},mounted(){this.getProducts()}},V={class:"container mt-md-5 mt-3 mb-7"},$={class:"row"},E=w('<div class="col-md-4"><div class="accordion border border-bottom border-top-0 border-start-0 border-end-0 mb-3" id="accordionExample"><div class="card border-0"><div class="card-header px-0 py-4 bg-white border border-bottom-0 border-top border-start-0 border-end-0 rounded-0" id="headingOne" data-bs-toggle="collapse" data-bs-target="#collapseOne"><div class="d-flex justify-content-between align-items-center pe-1"><h4 class="mb-0"> 商品分類 </h4><i class="fas fa-chevron-down"></i></div></div><div id="collapseOne" class="collapse show" aria-labelledby="headingOne" data-bs-parent="#accordionExample"><div class="card-body py-0"><ul class="list-unstyled"><li><a href="#" class="py-2 d-block text-muted">盒玩</a></li><li><a href="#" class="py-2 d-block text-muted">扭蛋</a></li><li><a href="#" class="py-2 d-block text-muted">模型</a></li></ul></div></div></div></div></div>',1),O={class:"col-md-8"},I={class:"row"},A={class:"card border-0 mb-4 position-relative position-relative"},B=["src"],C=t("a",{href:"#",class:"text-dark"},[t("i",{class:"far fa-heart position-absolute",style:{right:"16px",top:"16px"}})],-1),N={class:"card-body p-0 d-flex justify-content-between align-items-end"},S={class:"mb-0 mt-3 fs-5"},j={class:"card-text mb-0"},D={class:"text-muted"},K=["onClick"];function L(a,e,o,R,n,l){const b=p("router-link"),g=p("PaginationView");return i(),d("div",V,[t("div",$,[E,t("div",O,[t("div",I,[(i(!0),d(y,null,P(n.products,s=>(i(),d("div",{class:"col-md-6",key:s.id},[t("div",A,[t("img",{src:s.imageUrl,class:"card-img-top rounded-0",alt:"..."},null,8,B),C,t("div",N,[t("div",null,[t("h4",S,[m(b,{to:`/product/${s.id}`},{default:T(()=>[_(c(s.title),1)]),_:2},1032,["to"])]),t("p",j,[_("NT$"+c(s.price)+" ",1),t("span",D,[t("del",null,"NT$"+c(s.origin_price),1)])])]),t("button",{type:"button",class:"btn btn-outline-primary",onClick:F=>l.addToCart(s.id)},"加入購物車",8,K)])])]))),128))]),m(g,{pages:n.page,onEmitPage:l.getProducts,class:"d-flex justify-content-center"},null,8,["pages","onEmitPage"])])])])}const M=v(k,[["render",L]]);export{M as default};
